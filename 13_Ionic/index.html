<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        
        
        <title>Cheer App</title>

        
    <script
    type="module"
    src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"
  ></script>

  <script
    nomodule
    src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"
  ></script>


  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"
  />
 
 <!-- Full jQuery -->
 <script 
 src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js">    
 </script>

<style>
    .large {
        font-size: 30px;
    }

    .centered {
        display: block;
        margin: 0 auto;
        text-align: center;
    }

</style>
</head>
<body>
  <ion-app>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Do you feel the power?</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>

    <ion-tabs>

      <ion-tab tab="tab-yes">
        <ion-grid>
          <ion-row>
            <!-- <ion-col size-md="6" offset-md="3" size-lg="4" offset-lg="4"> -->
              <ion-col>
              <ion-card style="width: 25rem;" class="ion-margin">
                <img src="https://img.prod.portals.aws.zehnder.ch/s/baf8b716b0f7efedd95887aa740d4708b1c9ed99-zna-343276-1200-816/441x300m.jpg" alt="Beautiful day!" style="width: 25rem;">
                <ion-card-header>
                  <ion-card-subtitle>Feeling</ion-card-subtitle>
                  <ion-card-title>This is a beautiful day!</ion-card-title>
                </ion-card-header>
                
                <ion-card-content>
                  <p>Beauty is power; a smile is its sword.</p>
                  <a href="https://www.luzern.com/en/"  target="_blank">Get there!</a>
                </ion-card-content>
              </ion-card>

            </ion-col>
          </ion-row>
        </ion-grid>
       
  
         <!-- Img Source: https://www.luzerner-rundschau.ch/stadt/detail/article/initiative-aufwertung-der-innenstadt-abgelehnt-00123055/ 
         -->
      </ion-tab>
    
      <ion-tab tab="tab-maybe">
        <ion-grid>
          <ion-row>
            <!-- <ion-col size-md="6" offset-md="3" size-lg="4" offset-lg="4"> -->
              <ion-col>
              <ion-card style="width: 25rem;" class="ion-margin">
                <img src="https://i.pinimg.com/originals/71/28/c5/7128c55d18eb6e235dee15e32f8039f6.jpg" alt="OKish Day">
                <!-- Img Source: https://www.pinterest.com/pin/210472982565641957/ -->

                <ion-card-header>
                  <ion-card-subtitle>Feeling</ion-card-subtitle>
                  <ion-card-title>This is an OKish day...</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                  <p>
                  It's always sunny above the clouds. Always. Every day on earth - every day I have ever had - was secretly sunny, after all.</p>
                  <a href="https://weather.com/weather/tenday/l/Lucerne+Lucerne+Switzerland?canonicalCityId=48f8e1733108c3c69b3e257e7dfff3bc848123bed3715657220bd8ba1ad1eee3" target="_blank">Check it</a>
                </ion-card-content>
              </ion-card>

            </ion-col>
          </ion-row>
        </ion-grid>
       
      </ion-tab>
    
      <ion-tab tab="tab-no">
        <ion-grid>
          <ion-row id="tofade">
            <ion-col>
            <!-- <ion-col size-md="6" offset-md="3" size-lg="4" offset-lg="4"> -->
              <ion-card style="width: 25rem;" class="ion-margin">
                  <img src="https://api.time.com/wp-content/uploads/2018/04/trumpstormycover.jpg?quality=85&w=1012" alt="S****y Day">
                  <!-- Img Source: https://time.com/magazine/us/5237427/april-23rd-2018-vol-191-no-15-u-s/ -->
                  <ion-card-header>
                    <ion-card-subtitle>Feeling</ion-card-subtitle>
                    <ion-card-title>This is a s****y day!</ion-card-title>
                  </ion-card-header>
                  <ion-card-content>
                   <p>Really?</p>
                    <ion-button 
                    onclick="doSomethingAboutIt()">Do something about it</ion-button>
                  </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>


      
          <ion-row id="row-progress" class="row" style="display: none;">
            <ion-col>
              I am loading a list of things to do that should make you feel better.
  
              <div class="progress" style="width: 80%; margin: 0 auto;">
                <div id="progress-bar" 
                  class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                </div>
              </ion-col>
            </ion-row>
  
        </ion-grid>                
      
      </ion-tab>

      <ion-tab-bar slot="bottom">

        <ion-tab-button tab="tab-yes">
          <ion-icon name="heart-outline"></ion-icon>          
          <ion-label>YES!</ion-label>
        </ion-tab-button>
    
        <ion-tab-button tab="tab-maybe">
          <ion-icon name="heart-half-outline"></ion-icon>          <ion-label>MAYBE!</ion-label>
        </ion-tab-button>
    
        <ion-tab-button tab="tab-no">
          <ion-icon name="skull-outline"></ion-icon>
          <ion-label>NO!</ion-label>
        </ion-tab-button>
      </ion-tab-bar>
    
    </ion-tabs>
    
  </ion-content>


<script src="js/activities.js"></script>

<script>
  async function presentLoading() {
    const loading = document.createElement('ion-loading');

    loading.cssClass = 'my-custom-class';
    loading.message = 'Please wait...';
    loading.duration = 2000;

    document.body.appendChild(loading);
    await loading.present();

    const { role, data } = await loading.onDidDismiss();
    console.log('Loading dismissed!');
}

async function presentLoadingWithOptions() {
  const loading = document.createElement('ion-loading');

  loading.spinner = null;
  loading.duration = 5000;
  loading.message = 'Click the backdrop to dismiss early...';
  loading.translucent = true;
  loading.cssClass = 'custom-class custom-loading';
  loading.backdropDismiss = true;

  document.body.appendChild(loading);
  await loading.present();

  const { role, data } = await loading.onDidDismiss();
  console.log('Loading dismissed with role:', role);
}
</script>

<script>

           // Do something about it.
 function doSomethingAboutIt() {
      
      debugger

      // In principle, we could add async to this callback,
      // however, jQuery is complaining, so need to create
      // a self-executing anonymous async function below.
      $("#tofade").first().fadeOut("fast", function() {


        $('#row-progress').fadeIn();
      
        // Simulate receiving data and updatign progress.
        // let updates = [ 0, 20, 40, 60, 80, 100 ];

        // updates.forEach((update, idx) => {
        //   setTimeout(() => updateProgress(update), idx * 1000);
        // });

        // Self-executing anonymous async function.
        (async () => {

          let activities = await fetchActivities();

          $('#row-progress').fadeOut("fast");

          let row = createActivitiesRow(activities);

          // Get the second element with class .container,
          // and append the row with activities cards.
          document.querySelector('ion-grid').appendChild(row);

          // 1sec after hoovering over a footer we show the modal
          // of the survey.
          // $( "div.card-footer" ).hover(function() {
          //   setTimeout(() => {
          //     $('#surveyModal').modal('show');
          //   }, 1000);
          // });

          // // A little extra delay feels better.
          // setTimeout(() => {
          //   $("#feelbetter-grid").fadeIn("slow")[0].scrollIntoView({
          //       behavior: "smooth",
          //       block: "end"
          //   });

          // }, 300);

        })();
        
      });
      
    }
  
</script>
</body>
</html>
