<html>
    <head>
        <title>Bootstrap Tabs</title>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

        <style>
            .large {
                font-size: 30px;
            }

            .centered {
                display: block;
                margin: 0 auto;
                text-align: center;
            }
        </style>
        <link rel="stylesheet" href="./css/style_inputs.css" />
    </head>
    <body>
        
        <div class="jumbotron">
            <div class="container">
              <h1 class="display-4">Do you feel the power?</h1>
              <p class="lead">
                  
                    <ul class="nav nav-pills">
                        <li class="nav-item">
                        <a id="power-yes" class="nav-link" href="#">Yes</a>
                        </li>
                        <li class="nav-item">
                        <a id="power-maybe" class="nav-link" href="#">Maybe</a>
                        </li>
                        <li class="nav-item">
                        <a id="power-no" class="nav-link" href="#">No</a>
                        </li>
                    </ul>
                    </p>
            </div>
          </div>

        
        <div id="below" class="large centered">

           <div id="tab-yes" class="tab">
               This is a beautiful day!
               <img class="img" src="https://img.prod.portals.aws.zehnder.ch/s/baf8b716b0f7efedd95887aa740d4708b1c9ed99-zna-343276-1200-816/441x300m.jpg" title="Beatiful Day" />
               <!-- Img Source: https://www.luzerner-rundschau.ch/stadt/detail/article/initiative-aufwertung-der-innenstadt-abgelehnt-00123055/ -->
           </div>
           <div id="tab-maybe" class="tab">
                This is an OKish day...
                <img class="img" src="https://i.pinimg.com/originals/71/28/c5/7128c55d18eb6e235dee15e32f8039f6.jpg" title="OKish Day" />
                <!-- Img Source: https://www.pinterest.com/pin/210472982565641957/ -->
                
            </div>
           <div id="tab-no" class="tab">
                This is a s****y day!
                <img class="img" src="https://api.time.com/wp-content/uploads/2018/04/trumpstormycover.jpg?quality=85&w=1012" title="S****y Day" />
                <!-- Img Source: https://time.com/magazine/us/5237427/april-23rd-2018-vol-191-no-15-u-s/ -->

               <p>
                    <strong>Oh I am sorry :(</strong> <br/><br/>
                    Here is a list of things to do that should make you feel better.

                    <div class="progress" style="width: 600px; margin: 0 auto;">
                        <div id="progress-bar" 
                        class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
                      </div>
               </p> 
               
                
            </div>
        </div>

        <script>
           
            // Tabs.
            let currentTab = null;
            function displayTab(tabId) {
                if (currentTab) {
                    let linkId = currentTab.id.replace("tab", "power");
                    document.getElementById(linkId).className = 'nav-link';
                    currentTab.className = 'tab';
                }
                let linkId = tabId.replace("tab", "power");
                document.getElementById(linkId).className = 'nav-link active';
                currentTab = document.getElementById(tabId);
                currentTab.className = 'tab tab-active';
            }

            document.getElementById('power-yes').onclick = function() {
                displayTab("tab-yes");
            };
            document.getElementById('power-maybe').onclick = function() {
                displayTab("tab-maybe");
            };
            document.getElementById('power-no').onclick = function() {
                displayTab("tab-no");
            };

            // Simulate fetching a list of things 
            // to do from a remote server.
            function fetchThingsToDo(cb) {
                let todos = [
                    'Adopt A Pet Dog',
                    'Host A Dinner Party With Friends', 
                    'Play With Legos',
                    'Make Coffee Ice Cubes',
                    'Have A Karaoke Night',
                    'Volunteer To Babysit For A Friend',
                    'Try A Science Experiment',
                    'Learn To Juggle',
                    'Have A Water Balloon Fight',
                    'Take A Power Nap',
                    'Make S\'mores',
                    'Watch The Sunset'
                ];
                setTimeout(() => {
                    if (cb) cb(todos);

                }, 6010);
            }

            let updates = [ 0, 20, 40, 60, 80, 100 ];

            function updateProgress(x) {
                document.getElementById("progress-bar").style.width = x + '%';
            }
            updates.forEach((update, idx) => {
                setTimeout(() => updateProgress(update), idx * 1000);
            });

            // Create a new element <ul>. This element is not yet
            // added to the DOM tree, but we can still manipulate it.
            let ul = document.createElement('ul');

            // We set the class of <ul>. Note: in JS the attribute "class"
            // is named "className" because "class" is a reserved word.
            ul.className = 'feelbetter-list';

            fetchThingsToDo(todos => {
                todos.forEach(todo => {
                    let li = document.createElement('li');
                    li.innerHTML = todo;
                    // Add a new child element at the bottom of <ul>.
                    ul.appendChild(li);
                }); 
                
                // Hide progress bar.
                let progress = document.querySelector('.progress');
                progress.style.display = 'none';

                // Find the first <p> tag inside the 
                // element with id "tab-no".
                let p = document.querySelector('#tab-no p');

                // Append the <ul> and all of its children here.
                p.appendChild(ul);  
            });

        </script>
    </body>
</html>